(function(t){function e(e){for(var n,i,c=e[0],o=e[1],u=e[2],d=0,f=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);l&&l(e);while(f.length)f.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],n=!0,c=1;c<s.length;c++){var o=s[c];0!==a[o]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=s[0]))}return t}var n={},a={app:0},r=[];function i(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=n,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=o;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0ace":function(t,e,s){"use strict";var n=s("defb"),a=s.n(n);a.a},"122c":function(t,e,s){},"12d1":function(t,e,s){"use strict";var n=s("3f32"),a=s.n(n);a.a},"1c08":function(t,e,s){"use strict";var n=s("6553"),a=s.n(n);a.a},"21d8":function(t,e,s){},2333:function(t,e,s){"use strict";var n=s("122c"),a=s.n(n);a.a},2395:function(t,e,s){},"3f32":function(t,e,s){},4581:function(t,e,s){},4678:function(t,e,s){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(t){var e=r(t);return s(e)}function r(t){if(!s.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}a.keys=function(){return Object.keys(n)},a.resolve=r,t.exports=a,a.id="4678"},"474b":function(t,e,s){"use strict";var n=s("d96b"),a=s.n(n);a.a},"489c":function(t,e,s){"use strict";var n=s("21d8"),a=s.n(n);a.a},4936:function(t,e,s){"use strict";var n=s("edcd"),a=s.n(n);a.a},"4dd4":function(t,e,s){},5037:function(t,e,s){},5076:function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("66b9");var n=s("b650"),a=(s("e7e5"),s("d399")),r=(s("e930"),s("8f80")),i=(s("e17f"),s("2241")),c=(s("be7f"),s("565f")),o=(s("5f5f"),s("f253")),u=(s("c3a6"),s("ad06")),l=(s("da3c"),s("0b33")),d=(s("bda7"),s("5e46")),f=(s("ab71"),s("58e6")),h=(s("2994"),s("2bdd")),p=(s("5852"),s("d961")),m=(s("4467"),s("c36e")),v=(s("e260"),s("e6cf"),s("cca6"),s("a79d"),s("2b0e")),g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},b=[],_={},j=_,k=(s("7c55"),s("2877")),w=Object(k["a"])(j,g,b,!1,null,null,null),y=w.exports,x=(s("c975"),s("8c4f")),C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"close",on:{click:t.exitLogin}},[s("span",{staticClass:"iconfont iconicon-test"})]),t._m(0),s("div",{staticClass:"inputs"},[s("myinput",{attrs:{"data-v-744880be":"",placeholder:"请输入手机号",rules:/^(\d{5,6})|^(1\d{10})$/,msg:"用户名或者手机号输入不正确",value:t.users.username},on:{input:t.handleinput}}),s("myinput",{attrs:{"data-v-744880be":"",placeholder:"密码",type:"password",rules:/^\S{3,16}$/,msg:"请输入3-16位的密码"},model:{value:t.users.password,callback:function(e){t.$set(t.users,"password",e)},expression:"users.password"}})],1),t._m(1),s("mybutton",{on:{click:t.login}},[t._v("登录")])],1)])},$=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"logo"},[s("span",{staticClass:"iconfont iconnew"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"tips"},[t._v(" 没有账号？ "),s("a",{attrs:{href:"#/register"}},[t._v("去注册")])])}],L=(s("96cf"),s("1da1")),O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"btn",on:{click:t.btnclick}},[s("span",{class:t.icon}),t._t("default")],2)},S=[],R={props:["icon"],methods:{btnclick:function(t){this.$emit("click",t)}}},I=R,E=(s("7389"),Object(k["a"])(I,O,S,!1,null,"7f00f538",null)),U=E.exports,z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("input",{staticClass:"hminput",class:{success:t.statu,error:!t.statu},attrs:{type:"text"},on:{input:t.handleInput,blur:t.handleBlur}})},P=[],F={props:["rules","msg"],data:function(){return{statu:!0}},methods:{handleInput:function(t){var e=t.target.value;this.rules.test(e)?this.statu=!0:this.statu=!1,this.$emit("input",e)},handleBlur:function(){var t=event.target.value;this.rules.test(t)||this.$toast.fail({message:this.msg||"输入不正确",duration:3e3})}}},N=F,M=(s("0ace"),Object(k["a"])(N,z,P,!1,null,"9181df34",null)),D=M.exports,J=(s("d3b7"),s("bc3a")),T=s.n(J),q="http://157.122.54.189:9083";T.a.defaults.baseURL=q,T.a.interceptors.request.use((function(t){var e=localStorage.getItem("login_token");return e&&(t.headers.Authorization=e),t}),(function(t){return Promise.reject(t)})),T.a.interceptors.response.use((function(t){return"用户信息验证失败"!==t.data.message&&"用户信息验证失败!"!==t.data.message||(window.location.href="#/login"),t}),(function(t){return Promise.reject(t)}));var Y=T.a,B=function(t){return Y({method:"post",url:"/login",data:t})},G=function(t){return Y({url:"/user/".concat(t)})},A=function(t,e){return Y({method:"post",url:"/user_update/".concat(t),data:e})},H=function(t){return Y({method:"post",url:"/register",data:t})},K=function(t){return Y({url:"/user_unfollow/".concat(t)})},Q=function(t){return Y({url:"/user_follows/".concat(t)})},V=function(t){return Y({url:"/post_star/".concat(t)})},W=function(t,e){return Y({method:"post",url:"/post_comment/".concat(t),data:e})},X=function(t){return Y({url:"/user_unfollow/".concat(t)})},Z=function(){return Y({url:"/user_follows"})},tt={components:{mybutton:U,myinput:D},data:function(){return{users:{username:"10086",password:"123"}}},methods:{login:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!/^(d{5,6})|^(1\d{10})$/.test(this.users.username)&&!/^\S{3,16}$/.test(this.users.password)){t.next=7;break}return t.next=3,B(this.users);case 3:e=t.sent,"用户不存在"===e.data.message?this.$toast.fail(e.data.message):(localStorage.setItem("login_token",e.data.data.token),localStorage.setItem("user",JSON.stringify(e.data.data.user)),this.$toast.success("登录成功"),this.$router.push({path:"/personal/".concat(e.data.data.user.id)})),t.next=8;break;case 7:this.$toast.fail("用户输入不合法");case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),exitLogin:function(){this.$router.push({name:"Index"})},handleinput:function(t){this.users.username=t}}},et=tt,st=(s("a2c3"),Object(k["a"])(et,C,$,!1,null,"9b89a3e6",null)),nt=st.exports,at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"index",on:{click:t.handleClick}},[s("div",{staticClass:"header"},[t._m(0),s("div",{staticClass:"search",on:{click:function(e){return t.$router.push({name:"Search"})}}},[s("van-icon",{attrs:{name:"search"}}),s("span",[t._v("搜索新闻")])],1),s("div",{staticClass:"user",on:{click:function(e){return t.$router.push({path:"/personal/"+t.id})}}},[s("van-icon",{attrs:{name:"manager"}})],1)]),s("div",{staticClass:"categary"},[s("van-tabs",{attrs:{swipeable:"",sticky:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.catelist,(function(e){return s("van-tab",{key:e.id,attrs:{title:e.name}},[s("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[s("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了",offset:10,"immediate-check":!1},on:{load:t.onLoad},model:{value:e.loading,callback:function(s){t.$set(e,"loading",s)},expression:"cate.loading"}},t._l(e.postlist,(function(e){return s("myarticleBlock",{key:e.id,attrs:{post:e},on:{click:function(s){return t.$router.push({path:"/articleDetail/"+e.id})}}})})),1)],1)],1)})),1)],1)])},rt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"logo"},[s("span",{staticClass:"iconfont iconnew"})])}],it=(s("a4d3"),s("4de4"),s("d81d"),s("e439"),s("dbb4"),s("b64b"),s("159b"),s("2909")),ct=s("ade3"),ot=function(){return Y({url:"/category"})},ut=function(t){return Y({url:"/post",params:t})},lt=function(t){return Y({url:"/post/".concat(t)})},dt=function(t){return Y({url:"/post_like/".concat(t)})},ft=function(t,e){return Y({url:"/post_comment/".concat(t),params:e})},ht=function(t){return Y({url:"/post_search",params:t})},pt=function(){return Y({url:"/user_star"})},mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 1===t.post.type&&t.post.cover.length<=2?s("div",{staticClass:"single",on:{click:t.handClick}},[s("div",{staticClass:"left"},[s("p",{staticClass:"content"},[t._v(t._s(t.post.title))]),s("p",{staticClass:"info"},[s("span",[t._v("来源："+t._s(t.post.user.nickname))]),s("span",[t._v(t._s(t.post.comment_length)+"评论")])])]),s("img",{attrs:{src:t.post.cover[0].url,alt:""}})]):2===t.post.type?s("div",{staticClass:"singlev",on:{click:t.handClick}},[s("p",{staticClass:"content"},[t._v(t._s(t.post.title))]),s("div",{staticClass:"playarea"},[s("img",{attrs:{src:t.post.cover[0].url,alt:""}}),s("div",{staticClass:"playicon"},[s("van-icon",{attrs:{name:"play"}})],1)]),s("p",{staticClass:"info"},[s("span",[t._v(t._s(t.post.user.nickname))]),s("span",[t._v(t._s(t.post.comment_length)+"评论")])])]):1===t.post.type&&t.post.cover.length>=3?s("div",{staticClass:"singlet",on:{click:t.handClick}},[s("p",{staticClass:"content"},[t._v(t._s(t.post.title))]),s("div",{staticClass:"imgs"},t._l(t.post.cover,(function(t){return s("img",{key:t.id,attrs:{src:t.url,alt:""}})})),0),s("p",{staticClass:"info"},[s("span",[t._v(t._s(t.post.user.nickname))]),s("span",[t._v(t._s(t.post.comment_length)+"评论")])])]):t._e()},vt=[],gt={props:["post"],mounted:function(){},methods:{handClick:function(t){this.$emit("click",t)}}},bt=gt,_t=(s("1c08"),Object(k["a"])(bt,mt,vt,!1,null,"16b27fb9",null)),jt=_t.exports;function kt(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function wt(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?kt(Object(s),!0).forEach((function(e){Object(ct["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):kt(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var yt={components:{myarticleBlock:jt},watch:{active:function(){0===this.catelist[this.active].postlist.length&&this.init()}},data:function(){return{id:"",catelist:[],active:localStorage.getItem("login_token")?1:0,articleList:[],count:0,isLoading:!1}},mounted:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!localStorage.getItem("cateList")){t.next=5;break}this.catelist=JSON.parse(localStorage.getItem("cateList")),localStorage.getItem("login_token")?(e=this.catelist).unshift.apply(e,[{id:0,name:"关注",is_top:1},{id:999,name:"头条",is_top:1}]):(s=this.catelist).unshift.apply(s,[{id:999,name:"头条",is_top:1}]),t.next=10;break;case 5:return t.next=7,ot();case 7:n=t.sent,console.log(n),this.catelist=n.data.data;case 10:this.id=JSON.parse(localStorage.getItem("user")||"{}").id,this.catelist=this.catelist.map((function(t){return wt({},t,{postlist:[],pageSize:5,pageIndex:1,loading:!1,finished:!1})})),this.init();case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{init:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e,s,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ut({pageSize:this.catelist[this.active].pageSize,pageIndex:this.catelist[this.active].pageIndex,category:this.catelist[this.active].id});case 2:for(s=t.sent,this.catelist[this.active].loading=!1,s.data.data.length<this.catelist[this.active].pageSize&&(this.catelist[this.active].finished=!0),n=0;n<s.data.data.length;n++)for(a=0;a<s.data.data[n].cover.length;a++)-1==s.data.data[n].cover[a].url.indexOf("http")&&(s.data.data[n].cover[a].url=q+s.data.data[n].cover[a].url);(e=this.catelist[this.active].postlist).push.apply(e,Object(it["a"])(s.data.data));case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onRefresh:function(){var t=this;this.catelist[this.active].pageIndex=1,this.catelist[this.active].postlist.length=0,setTimeout((function(){t.init(),t.$toast.success("刷新成功"),t.isLoading=!1}),3e3),this.catelist[this.active].finished=!1},onLoad:function(){var t=this;this.catelist[this.active].pageIndex++,setTimeout((function(){t.init()}),2e3)},handleClick:function(t){console.log(),"van-sticky"===t.target.className&&this.$router.push({name:"CateManager"})}}},xt=yt,Ct=(s("87ab"),Object(k["a"])(xt,at,rt,!1,null,"04c84a7c",null)),$t=Ct.exports,Lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"personal"},[s("router-link",{attrs:{to:{path:"/editpersonal/"+t.currentUser.id}}},[s("div",{staticClass:"profile"},[s("span",{staticClass:"iconfont iconjiantou2",attrs:{slot:"left"},on:{click:function(e){return t.$router.back()}},slot:"left"}),s("img",{attrs:{src:t.currentUser.head_img,alt:""}}),s("div",{staticClass:"profile-center"},[s("div",{staticClass:"name"},[s("span",{staticClass:"iconfont iconxingbienan"}),t._v(t._s(t.currentUser.nickname)+" ")]),s("div",{staticClass:"time"},[t._v(t._s(t.currentUser.create_date))])]),s("span",{staticClass:"iconfont iconjiantou1"})])]),s("mycell",{attrs:{title:"我的关注",desc:"关注的用户"},on:{click:function(e){return t.$router.push({name:"Myfollow"})}}}),s("mycell",{attrs:{title:"我的收藏",desc:"文章/视频"},on:{click:function(e){return t.$router.push({name:"Mystar"})}}}),s("mycell",{attrs:{title:"我的跟帖",desc:"跟帖/回复"},on:{click:t.setting}}),s("mybutton",{staticClass:"btn",on:{click:t.exit}},[t._v("退出")])],1)},Ot=[],St=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cell",on:{click:t.handleclick}},[s("div",{staticClass:"left"},[t._v(t._s(t.title))]),s("div",{staticClass:"right"},[t._v(t._s("password"===t.type?"*****":t.desc))])])},Rt=[],It={props:["title","desc","type"],methods:{handleclick:function(t){this.$emit("click",t)}}},Et=It,Ut=(s("12d1"),Object(k["a"])(Et,St,Rt,!1,null,"b09cf2a8",null)),zt=Ut.exports,Pt=s("c1df"),Ft=s.n(Pt),Nt={components:{mycell:zt,mybutton:U},data:function(){return{currentUser:{}}},mounted:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.id,t.next=3,G(e);case 3:s=t.sent,console.log(s),"获取成功"===s.data.message&&(this.currentUser=s.data.data,this.currentUser.head_img=q+this.currentUser.head_img,this.currentUser.create_date=Ft()(this.currentUser.create_date).format("YYYY-MM-DD hh:mm:ss"));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{exit:function(){localStorage.removeItem("login_token"),this.$router.push({name:"Index"})},setting:function(){this.$dialog.alert({message:"暂时没有这个功能哟"})}}},Mt=Nt,Dt=(s("4936"),Object(k["a"])(Mt,Lt,Ot,!1,null,"5597c5ae",null)),Jt=Dt.exports,Tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"close",on:{click:t.exitLogin}},[s("span",{staticClass:"iconfont iconicon-test"})]),t._m(0),s("div",{staticClass:"inputs"},[s("myinput",{attrs:{"data-v-744880be":"",placeholder:"请输入手机号",rules:/^(\d{5,6})|^(1\d{10})$/,msg:"用户名或者手机号输入不正确",value:t.users.username},on:{input:t.handleinput}}),s("myinput",{attrs:{"data-v-744880be":"",placeholder:"密码",type:"password",rules:/^\S{3,16}$/,msg:"请输入3-16位的密码"},model:{value:t.users.password,callback:function(e){t.$set(t.users,"password",e)},expression:"users.password"}}),s("myinput",{attrs:{"data-v-744880be":"",placeholder:"昵称",rules:/^\w+$/,msg:"请输入正确的昵称"},model:{value:t.users.nikename,callback:function(e){t.$set(t.users,"nikename",e)},expression:"users.nikename"}})],1),t._m(1),s("mybutton",{on:{click:t.register}},[t._v("注册")])],1)])},qt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"logo"},[s("span",{staticClass:"iconfont iconnew"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"tips"},[t._v(" 已注册？ "),s("a",{attrs:{href:"#/login"}},[t._v("去登录")])])}],Yt={components:{mybutton:U,myinput:D},data:function(){return{users:{username:"",password:"",nickname:""}}},methods:{register:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,H({username:this.users.username,password:this.users.password,nickname:this.users.nickname});case 2:e=t.sent,console.log(e),this.$toast(e.data.message),this.$router.push({name:"login"});case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),exitLogin:function(){this.$router.push({name:"Index"})},handleinput:function(t){this.users.username=t}}},Bt=Yt,Gt=(s("2333"),Object(k["a"])(Bt,Tt,qt,!1,null,"7b094e6a",null)),At=Gt.exports,Ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"edit"},[s("myheader",{attrs:{title:"编辑个人信息"}},[s("span",{staticClass:"iconfont iconjiantou2",attrs:{slot:"left"},on:{click:function(e){return t.$router.back()}},slot:"left"}),s("span",{attrs:{slot:"right"},on:{click:function(e){return t.$router.push({path:"/"})}},slot:"right"},[s("van-icon",{attrs:{name:"wap-home-o"}})],1)]),s("div",{staticClass:"userimg"},[s("img",{attrs:{src:t.currentUser.head_img,alt:""}}),s("van-uploader",{attrs:{"after-read":t.afterRead}})],1),s("mycell",{attrs:{title:"昵称",desc:t.currentUser.nickname},on:{click:function(e){t.nickshow=!t.nickshow}}}),s("van-dialog",{attrs:{title:"修改昵称","show-cancel-button":""},on:{confirm:t.updateNickname},model:{value:t.nickshow,callback:function(e){t.nickshow=e},expression:"nickshow"}},[s("van-field",{ref:"nick",attrs:{value:t.currentUser.nickname,placeholder:"请输入昵称",required:"",label:"昵称"}})],1),s("mycell",{attrs:{title:"密码",desc:t.currentUser.password,type:"password"},on:{click:function(e){t.passshow=!t.passshow}}}),s("van-dialog",{attrs:{title:"修改密码","show-cancel-button":""},on:{confirm:t.updatePassword},model:{value:t.passshow,callback:function(e){t.passshow=e},expression:"passshow"}},[s("van-field",{ref:"originPass",attrs:{placeholder:"请输入原密码",required:"",label:"原密码",type:"password"}}),s("van-field",{ref:"newPass",attrs:{placeholder:"请输入新密码",required:"",label:"新密码"}})],1),s("mycell",{attrs:{title:"性别",desc:0===t.currentUser.gender?"女":"男"},on:{click:function(e){t.gendershow=!t.gendershow}}}),s("van-dialog",{attrs:{"show-cancel-button":""},on:{confirm:t.updateGender},model:{value:t.gendershow,callback:function(e){t.gendershow=e},expression:"gendershow"}},[s("van-picker",{attrs:{columns:["女","男"],"default-index":t.currentUser.gender},on:{change:t.onchange}})],1)],1)},Kt=[],Qt=(s("99af"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("div",[t._t("left")],2),s("div",[t._v(t._s(t.title))]),s("div",[t._t("right")],2)])}),Vt=[],Wt={props:["title"]},Xt=Wt,Zt=(s("c723"),Object(k["a"])(Xt,Qt,Vt,!1,null,"1c456c7e",null)),te=Zt.exports,ee=function(t){return Y({method:"post",url:"/upload",data:t})},se={components:{myheader:te,mycell:zt},data:function(){return{currentUser:{},nickshow:!1,passshow:!1,gendershow:!1}},mounted:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,G(this.$route.params.id);case 2:e=t.sent,this.currentUser=e.data.data,this.currentUser.head_img="http://127.0.0.1:3000"+e.data.data.head_img;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{afterRead:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(e){var s,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=new FormData,s.append("file",e.file),t.next=4,ee(s);case 4:if(n=t.sent,"文件上传成功"!==n.data.message){t.next=14;break}return this.currentUser.head_img="http://127.0.0.1:3000"+n.data.data.url,t.next=9,A(this.currentUser.id,{head_img:n.data.data.url});case 9:a=t.sent,console.log(a),"修改成功"===a.data.message?this.$toast.success("修改成功"):this.$toast.fail("修改失败"),t.next=15;break;case 14:this.$toast.fail("文件上传失败");case 15:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),updateNickname:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$refs.nick.$refs.input.value,t.next=3,A(this.currentUser.id,{nickname:e});case 3:s=t.sent,"修改成功"==s.data.message?(this.currentUser.nickname=e,this.$toast.success("修改成功")):this.$toast.fail("修改失败");case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),updatePassword:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.$refs.originPass.$refs.input.value,e!==this.currentUser.password){t.next=7;break}return s=this.$refs.newPass.$refs.input.value,t.next=5,A(this.currentUser.id,{password:s});case 5:n=t.sent,this.$toast.success(n.data.message);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),updateGender:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A(this.currentUser.id,{gender:this.gender});case 2:e=t.sent,this.$toast(e.data.message),"修改成功"===e.data.message&&(this.currentUser.gender=this.gender);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onchange:function(t,e,s){console.log(this.currentUser.gender),this.$toast("当前值：".concat(e,",当前索引：").concat(s)),this.gender=s}}},ne=se,ae=(s("ea56"),Object(k["a"])(ne,Ht,Kt,!1,null,"0b415992",null)),re=ae.exports,ie=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-tabs",{attrs:{swipeable:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.a,(function(e,n){return s("van-tab",{key:n,attrs:{title:"选项 "+n}},[t._v("内容 "+t._s(n))])})),1)],1)},ce=[],oe={data:function(){return{a:[1,2,3,4,5],active:""}},watch:{active:function(){console.log(this.active)}}},ue=oe,le=Object(k["a"])(ue,ie,ce,!1,null,null,null),de=le.exports,fe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"articaldetail"},[s("div",{staticClass:"header"},[s("div",{staticClass:"left"},[s("van-icon",{attrs:{name:"arrow-left back"},on:{click:function(e){return t.$router.back()}}}),s("span",{staticClass:"iconfont iconnew new"})],1),s("span",{class:{active:t.articleList.has_follow},on:{click:t.follow}},[t._v(t._s(t.articleList.has_follow?"取关":"关注"))])]),s("div",{staticClass:"detail"},[s("div",{staticClass:"title"},[t._v(t._s(t.articleList.title))]),s("div",{staticClass:"desc"},[s("span",[t._v("新闻来源："+t._s(t.articleList.user.nickname))]),t._v(" "),s("span",[t._v(t._s(t.articleList.create_date))])]),1===t.articleList.type?s("div",{staticClass:"content",domProps:{innerHTML:t._s(t.articleList.content)}}):t._e(),2===t.articleList.type?s("video",{attrs:{src:t.articleList.content,controls:""}}):t._e(),s("div",{staticClass:"opt"},[s("span",{staticClass:"like",class:{active:t.articleList.has_like},on:{click:t.like}},[s("van-icon",{attrs:{name:"good-job-o"}}),t._v("点赞 ")],1),s("span",{staticClass:"chat"},[s("van-icon",{staticClass:"w",attrs:{name:"chat"}}),t._v("微信 ")],1)])]),s("div",{staticClass:"keeps"},[s("h2",[t._v("精彩跟帖")]),s("div",{staticClass:"lists"},t._l(t.commentList,(function(e){return s("div",{key:e.id,staticClass:"item"},[s("div",{staticClass:"head"},[s("img",{attrs:{src:e.user.head_img,alt:""}}),s("div",[s("p",[t._v(t._s(e.user.nickname))]),s("span",[t._v("2小时前")])]),s("span",{on:{click:function(s){return t.sendComment(e)}}},[t._v("回复")])]),e.parent?s("commentItem",{attrs:{parent:e.parent},on:{postComment:t.sendComment}}):t._e(),s("div",{staticClass:"text"},[t._v(t._s(e.content))])],1)})),0)]),s("myCommentFooter",{attrs:{post:t.articleList}})],1)},he=[],pe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"comment"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isFocus,expression:"!isFocus"}],staticClass:"addcomment"},[s("input",{attrs:{type:"text",placeholder:"写跟帖"},on:{focus:t.handlerFocus}}),s("span",{staticClass:"comment",on:{click:function(e){return t.$router.push({path:"/comment/"+t.$route.params.id})}}},[s("i",{staticClass:"iconfont iconpinglun-"}),s("em",[t._v(t._s(t.post.comment_length))])]),s("i",{staticClass:"iconfont iconshoucang",class:{shoucang:t.post.has_star},on:{click:t.shoucang}}),s("i",{staticClass:"iconfont iconfenxiang"})]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isFocus,expression:"isFocus"}],staticClass:"inputcomment"},[s("textarea",{ref:"commtext",attrs:{rows:"5"}}),s("div",[s("span",{staticClass:"send",on:{click:t.sendComment}},[t._v("发送")]),s("span",{staticClass:"quxiao",on:{click:t.cancel}},[t._v("取消")])])])])},me=[],ve={props:["post","obj"],data:function(){return{isFocus:!1,commentList:[]}},watch:{obj:function(){console.log(this.obj),this.obj&&(this.isFocus=!0)}},methods:{handlerFocus:function(){var t=this;this.isFocus=!this.isFocus,setTimeout((function(){t.$refs.commtext.focus()}),10)},shoucang:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,V(this.$route.params.id);case 2:e=t.sent,console.log(e),"收藏成功"===e.data.message?(this.post.has_star=!0,this.$toast.success(e.data.message)):"取消成功"==e.data.message&&(this.post.has_star=!1,this.$toast.success(e.data.message));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),sendComment:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={content:this.$refs.commtext.value},this.obj&&(e.parent_id=this.obj.id),console.log(this.post.id),t.next=5,W(this.post.id,e);case 5:s=t.sent,console.log(s),"评论发布成功"===s.data.message?this.$toast.success(s.data.message):this.$toast.fail(s.data.message),this.$refs.commtext.value="",this.$emit("refresh"),this.isFocus=!1;case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.isFocus=!1,this.$emit("reset")}},mounted:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ft(this.$route.params.id);case 2:e=t.sent,this.commentList=e.data.data;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},ge=ve,be=(s("faf8"),Object(k["a"])(ge,pe,me,!1,null,"4fb0a838",null)),_e=be.exports,je=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"commentItem"},[t.parent.parent?s("commentItem",{attrs:{parent:t.parent.parent},on:{postComment:t.sendComment}}):t._e(),s("div",{staticClass:"top"},[s("div",{staticClass:"left"},[s("span",[t._v(t._s(t.parent.user.nickname))]),t._v(" "),s("span",[t._v("2分钟前")])]),s("span",{on:{click:function(e){return t.sendComment(t.parent)}}},[t._v("回复")])]),s("div",{staticClass:"bottom"},[t._v(t._s(t.parent.content))])],1)},ke=[],we={props:["parent"],name:"commentItem",methods:{sendComment:function(t){this.$emit("postComment",t)}}},ye=we,xe=(s("474b"),Object(k["a"])(ye,je,ke,!1,null,"77b9910c",null)),Ce=xe.exports,$e={components:{myCommentFooter:_e,commentItem:Ce},data:function(){return{commentList:[],articleList:{user:{}}}},mounted:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,lt(this.$route.params.id);case 2:return e=t.sent,e.data.data.create_date=Ft()(e.data.data.create_date).format("YYYY-MM-DD hh:mm:ss"),console.log(e.data.data),this.articleList=e.data.data,t.next=8,ft(this.$route.params.id,{pageSize:40,pageIndex:1});case 8:for(s=t.sent,this.commentList=s.data.data,n=0;n<this.commentList.length;n++)-1===this.commentList[n].user.head_img.indexOf("http")&&(this.commentList[n].user.head_img=q+this.commentList[n].user.head_img);case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{follow:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.articleList.has_follow){t.next=8;break}return t.next=3,K(this.articleList.user.id);case 3:e=t.sent,"取消关注成功"===e.data.message?this.$toast.success(e.data.message):this.$toast.fail(e.data.message),this.articleList.has_follow=!1,t.next=13;break;case 8:return t.next=10,Q(this.articleList.user.id);case 10:s=t.sent,"关注成功"===s.data.message?this.$toast.success(s.data.message):this.$toast.fail(s.data.message),this.articleList.has_follow=!0;case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),like:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,dt(this.$route.params.id);case 2:e=t.sent,"点赞成功"===e.data.message?(this.articleList.has_like=!0,this.$toast.success(e.data.message)):(this.$toast.success(e.data.message),this.articleList.has_like=!1);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},Le=$e,Oe=(s("b810"),Object(k["a"])(Le,fe,he,!1,null,"76342f89",null)),Se=Oe.exports,Re=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"comment"},[s("myheader",{attrs:{title:"评论详情"}},[s("span",{staticClass:"iconfont iconjiantou2",attrs:{slot:"left"},on:{click:function(e){return t.$router.back()}},slot:"left"})]),s("div",{staticClass:"lists"},t._l(t.commentList,(function(e){return s("div",{key:e.id,staticClass:"item"},[s("div",{staticClass:"head"},[s("img",{attrs:{src:e.user.head_img,alt:""}}),s("div",[s("p",[t._v(t._s(e.user.nickname))]),s("span",[t._v("2小时前")])]),s("span",{on:{click:function(s){return t.sendComment(e)}}},[t._v("回复")])]),e.parent?s("commentItem",{attrs:{parent:e.parent},on:{postComment:t.sendComment}}):t._e(),s("div",{staticClass:"text"},[t._v(t._s(e.content))])],1)})),0),s("myCommentFooter",{attrs:{post:t.article,obj:t.replyObj},on:{refresh:t.refresh,reset:function(e){t.replyObj=null}}})],1)},Ie=[],Ee={components:{myheader:te,commentItem:Ce,myCommentFooter:_e},data:function(){return{commentList:[],article:{},replyObj:null}},mounted:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.init(),t.next=3,lt(this.$route.params.id);case 3:e=t.sent,this.article=e.data.data;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{init:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ft(this.$route.params.id,{pageSize:40,pageIndex:1});case 2:for(e=t.sent,this.commentList=e.data.data,s=0;s<this.commentList.length;s++)-1===this.commentList[s].user.head_img.indexOf("http")&&(this.commentList[s].user.head_img=q+this.commentList[s].user.head_img);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),refresh:function(){this.init(),window.scrollTo(0,0)},sendComment:function(t){this.replyObj=t}}},Ue=Ee,ze=(s("bef3"),Object(k["a"])(Ue,Re,Ie,!1,null,"67572fd2",null)),Pe=ze.exports,Fe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cate"},[s("myheader",{attrs:{title:"频道管理"}},[s("span",{staticClass:"iconfont iconjiantou2",attrs:{slot:"left"},on:{click:function(e){return t.$router.back()}},slot:"left"})]),s("div",{staticClass:"mycate"},[s("p",[t._v("点击删除频道")]),t._l(t.cateList,(function(e,n){return s("span",{key:n,on:{click:function(e){return t.add(n)}}},[t._v(t._s(e.name))])}))],2),s("div",{staticClass:"mycate"},[s("p",[t._v("点击增加频道")]),t._l(t.uncateList,(function(e,n){return s("span",{key:n,on:{click:function(e){return t.del(n)}}},[t._v(t._s(e.name))])}))],2)],1)},Ne=[],Me=(s("a434"),{data:function(){return{cateList:[],uncateList:[]}},components:{myheader:te},mounted:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!localStorage.getItem("cateList")){t.next=5;break}this.cateList=JSON.parse(localStorage.getItem("cateList")),this.uncateList=JSON.parse(localStorage.getItem("uncateList")),t.next=12;break;case 5:return t.next=7,ot();case 7:e=t.sent,console.log(e),this.cateList=e.data.data,localStorage.getItem("login_token")?this.cateList=this.cateList.splice(2):this.cateList=this.cateList.splice(1),console.log(this.cateList);case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{add:function(t){this.uncateList.unshift(this.cateList[t]),this.cateList.splice(t,1),localStorage.setItem("cateList",JSON.stringify(this.cateList)),localStorage.setItem("uncateList",JSON.stringify(this.uncateList))},del:function(t){this.cateList.push(this.uncateList[t]),this.uncateList.splice(t,1),localStorage.setItem("uncateList",JSON.stringify(this.uncateList)),localStorage.setItem("cateList",JSON.stringify(this.cateList))}}}),De=Me,Je=(s("489c"),Object(k["a"])(De,Fe,Ne,!1,null,"f027632e",null)),Te=Je.exports,qe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search"},[s("div",{staticClass:"header"},[s("span",{staticClass:"iconfont iconjiantou2",on:{click:function(e){return t.$router.back()}}}),s("van-search",{attrs:{placeholder:"请输入搜索关键词",shape:"round"},model:{value:t.userkey,callback:function(e){t.userkey=e},expression:"userkey"}}),s("div",{on:{click:function(e){return t.onSearch(t.userkey)}}},[t._v("搜索")])],1),s("div",{staticClass:"historyList"},[s("h2",[t._v("历史记录")]),t._l(t.historyList,(function(e,n){return s("a",{key:n,attrs:{href:"javaScript:;"},on:{click:function(s){return t.onSearch(e)}}},[t._v(t._s(e))])}))],2),s("div",{staticClass:"historyList"},[s("h2",[t._v("搜索结果")]),t._l(t.searchList,(function(e,n){return s("router-link",{key:n,attrs:{to:{path:"/articleDetail/"+e.id}}},[t._v(t._s(e.title))])}))],2)])},Ye=[],Be={data:function(){return{userkey:"",historyList:[],searchList:[]}},mounted:function(){this.historyList=this.getdata()},methods:{onSearch:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(e){var s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),this.searchList.length=0,t.next=4,ht({keyword:e});case 4:s=t.sent,console.log(s),s.data.data.length>0&&(this.searchList=s.data.data),this.historyList=this.getdata(),n=this.historyList.indexOf(e),-1!=n&&this.historyList.splice(n,1),this.historyList.unshift(e),localStorage.setItem("search_history",JSON.stringify(this.historyList));case 12:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getdata:function(){return JSON.parse(localStorage.getItem("search_history")||"[]")}}},Ge=Be,Ae=(s("c085"),Object(k["a"])(Ge,qe,Ye,!1,null,"174d8480",null)),He=Ae.exports,Ke=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"focus"},[s("hmheader",{attrs:{title:"我的关注"}},[s("span",{staticClass:"iconfont iconjiantou2",attrs:{slot:"left"},on:{click:function(e){return t.$router.back()}},slot:"left"})]),s("div",{staticClass:"list"},t._l(t.followList,(function(e,n){return s("div",{key:e.id,staticClass:"box"},[s("img",{attrs:{src:e.head_img,alt:""}}),s("div",{staticClass:"center"},[s("p",[t._v(t._s(e.nickname))]),s("span",[t._v("2019-9-9")])]),s("span",{on:{click:function(s){return t.unfollow(e.id,n)}}},[t._v("取消关注")])])})),0)],1)},Qe=[],Ve={data:function(){return{followList:[]}},components:{hmheader:te},mounted:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Z();case 2:e=t.sent,console.log(e),this.followList=e.data.data.map((function(t){return t.head_img="http://127.0.0.1:3000"+t.head_img,t}));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{unfollow:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(e,s){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,X(e);case 2:n=t.sent,"取消关注成功"===n.data.message&&(this.$toast.success(n.data.message),this.followList.splice(s,1));case 4:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}()}},We=Ve,Xe=(s("8e84"),Object(k["a"])(We,Ke,Qe,!1,null,"6947814c",null)),Ze=Xe.exports,ts=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"focus"},[s("myheader",{attrs:{title:"我的收藏"}},[s("span",{staticClass:"iconfont iconjiantou2",attrs:{slot:"left"},on:{click:function(e){return t.$router.back()}},slot:"left"})]),t._l(t.starList,(function(e){return s("van-swipe-cell",{key:e.id,attrs:{beforeClose:t.beforeClose},on:{close:t.onClose}},[s("hmarticleblock",{attrs:{post:e},on:{click:function(s){return t.$router.push({path:"/articleDetail/"+e.id})}}}),s("template",{slot:"right"},[s("van-button",{staticClass:"delete-button",attrs:{square:"",type:"danger",text:"删除"}})],1)],2)}))],2)},es=[],ss={components:{hmarticleblock:jt,myheader:te},data:function(){return{starList:[]}},mounted:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,pt();case 2:for(e=t.sent,console.log(e),this.starList=e.data.data,s=0;s<this.starList.length;s++)for(n=0;n<this.starList[s].cover.length;n++)-1==this.starList[s].cover[n].url.indexOf("http")&&(this.starList[s].cover[n].url="http://127.0.0.1:3000"+this.starList[s].cover[n].url);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{beforeClose:function(t){var e=t.position,s=t.instance;switch(e){case"left":case"cell":case"outside":s.close();break;case"right":i["a"].confirm({message:"确定删除吗？"}).then((function(){s.close()}));break}},onClose:function(){}}},ns=ss,as=(s("e4fe"),Object(k["a"])(ns,ts,es,!1,null,"3c9feb04",null)),rs=as.exports;v["a"].use(x["a"]);var is=new x["a"]({routes:[{name:"login",path:"/login",component:nt},{name:"Index",path:"/",component:$t},{name:"Personal",path:"/personal/:id",component:Jt},{name:"Register",path:"/register",component:At},{name:"Test",path:"/test",component:de},{name:"EditPersonal",path:"/editPersonal/:id",component:re},{name:"ArticleDetail",path:"/articleDetail/:id",component:Se},{name:"Comment",path:"/comment/:id",component:Pe},{name:"CateManager",path:"/cateManager",component:Te},{name:"Search",path:"/search",component:He},{name:"Myfollow",path:"/myfollow",component:Ze},{name:"Mystar",path:"/mystar",component:rs}]});is.beforeEach((function(t,e,s){if(0===t.path.indexOf("/personal")){var n=localStorage.getItem("login_token");n?s():s({name:"login"})}else s()}));var cs=is;v["a"].use(n["a"]).use(a["a"]).use(r["a"]).use(i["a"]).use(c["a"]).use(o["a"]).use(u["a"]).use(l["a"]).use(d["a"]).use(f["a"]).use(h["a"]).use(p["a"]).use(m["a"]),v["a"].config.productionTip=!1,new v["a"]({router:cs,render:function(t){return t(y)}}).$mount("#app")},"5e94":function(t,e,s){},6553:function(t,e,s){},7389:function(t,e,s){"use strict";var n=s("5037"),a=s.n(n);a.a},"7c55":function(t,e,s){"use strict";var n=s("2395"),a=s.n(n);a.a},"81f2":function(t,e,s){},"87ab":function(t,e,s){"use strict";var n=s("f651"),a=s.n(n);a.a},"8e84":function(t,e,s){"use strict";var n=s("c7de"),a=s.n(n);a.a},a2c3:function(t,e,s){"use strict";var n=s("a76f"),a=s.n(n);a.a},a76f:function(t,e,s){},b810:function(t,e,s){"use strict";var n=s("4581"),a=s.n(n);a.a},bef3:function(t,e,s){"use strict";var n=s("81f2"),a=s.n(n);a.a},c085:function(t,e,s){"use strict";var n=s("5e94"),a=s.n(n);a.a},c723:function(t,e,s){"use strict";var n=s("5076"),a=s.n(n);a.a},c7de:function(t,e,s){},ce01:function(t,e,s){},d96b:function(t,e,s){},defb:function(t,e,s){},e11e:function(t,e,s){},e4fe:function(t,e,s){"use strict";var n=s("e11e"),a=s.n(n);a.a},ea56:function(t,e,s){"use strict";var n=s("4dd4"),a=s.n(n);a.a},edcd:function(t,e,s){},f651:function(t,e,s){},faf8:function(t,e,s){"use strict";var n=s("ce01"),a=s.n(n);a.a}});
//# sourceMappingURL=app.f5b09768.js.map